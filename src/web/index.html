<html>
	<head>
		<title>Test</title>

		<script>

			let socket = new WebSocket("ws://" + location.host + "/");

			socket.onopen = function(e) {
				// Setup?
			};

			socket.onmessage = function(event) {
				var response = JSON.parse(event.data);

				var urlbox = document.getElementById("urlbox");
				if(location.port && location.port != "") {
					urlbox.value = location.host + response.game;
				}
				else {
					urlbox.value = location.host + ":" + response.game;
				}
			};

			socket.onclose = function(event) {

			};

			socket.onerror = function(error) {
			};

			function createGame() {
				var msg = {
					'type': 'START'
				};
				socket.send(JSON.stringify(msg));
			}
		</script>
	</head>
	<body>
		<button onclick="createGame()">Create</button>
		<textarea id="urlbox"></textarea>
	</body>
</html>